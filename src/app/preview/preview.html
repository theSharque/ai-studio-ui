<div class="preview">
  <div class="current-frame">
    <div class="frame-canvas">
      @if (isFrameReady()) {
        <img
          [src]="currentFrame!.generated || currentFrame!.img"
          alt="Frame"
          (load)="onImageLoad()"
          (error)="onImageError()"
          [class.loaded]="isImageLoaded()"
        >
      } @else {
        <span class="material-icons frame-placeholder">image</span>
      }
    </div>
  </div>

  <div class="controls">
    <button (click)="goToStart()" title="Go to start">
      <span class="material-icons">first_page</span>
    </button>
    <button (click)="prevFrame()" title="Previous frame">
      <span class="material-icons">chevron_left</span>
    </button>
    <button (click)="togglePlay()" title="Play/Pause">
      <span class="material-icons">{{ isPlaying() ? 'pause' : 'play_arrow' }}</span>
    </button>
    <button (click)="nextFrame()" title="Next frame">
      <span class="material-icons">chevron_right</span>
    </button>
    <button (click)="goToEnd()" title="Go to end">
      <span class="material-icons">last_page</span>
    </button>
  </div>
</div>
